# OpenBanking::ReportsApi

All URIs are relative to *https://api.finicity.com*

| Method | HTTP request | Description |
| ------ | ------------ | ----------- |
| [**get_report_by_consumer**](ReportsApi.md#get_report_by_consumer) | **GET** /decisioning/v3/consumers/{consumerId}/reports/{reportId} | Get Report by Consumer and ID |
| [**get_report_by_customer**](ReportsApi.md#get_report_by_customer) | **GET** /decisioning/v3/customers/{customerId}/reports/{reportId} | Get Report by Customer and ID |
| [**get_reports_by_consumer_id**](ReportsApi.md#get_reports_by_consumer_id) | **GET** /decisioning/v1/consumers/{consumerId}/reports | Get Reports by Consumer ID |
| [**get_reports_by_customer_id**](ReportsApi.md#get_reports_by_customer_id) | **GET** /decisioning/v1/customers/{customerId}/reports | Get Reports by Customer ID |


## get_report_by_consumer

> <Report> get_report_by_consumer(consumer_id, report_id, opts)

Get Report by Consumer and ID

Get a report that has been generated by a previous call to one of the Generate Report services.  The report's `status` field contains \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.  Report data can either be retrieved as a JSON document or a PDF file.  To specify the format required, set the _Accept request header_ to either **application/json** or **application/pdf**. If neither is set, the report format will be returned as a JSON document.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

### Examples

```ruby
require 'time'
require 'open_banking'
# setup authorization
OpenBanking.configure do |config|
  # Configure API key authorization: FinicityAppToken
  config.api_key['FinicityAppToken'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppToken'] = 'Bearer'

  # Configure API key authorization: FinicityAppKey
  config.api_key['FinicityAppKey'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppKey'] = 'Bearer'
end

api_instance = OpenBanking::ReportsApi.new
consumer_id = '0bf46322c167b562e6cbed9d40e19a4c' # String | The consumer ID
report_id = 'u4hstnnak45g' # String | ID of the report
opts = {
  purpose: '3F', # String | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports.
  on_behalf_of: 'Some entity' # String | The name of the entity you are retrieving the report on behalf of
}

begin
  # Get Report by Consumer and ID
  result = api_instance.get_report_by_consumer(consumer_id, report_id, opts)
  p result
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_report_by_consumer: #{e}"
end
```

#### Using the get_report_by_consumer_with_http_info variant

This returns an Array which contains the response data, status code and headers.

> <Array(<Report>, Integer, Hash)> get_report_by_consumer_with_http_info(consumer_id, report_id, opts)

```ruby
begin
  # Get Report by Consumer and ID
  data, status_code, headers = api_instance.get_report_by_consumer_with_http_info(consumer_id, report_id, opts)
  p status_code # => 2xx
  p headers # => { ... }
  p data # => <Report>
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_report_by_consumer_with_http_info: #{e}"
end
```

### Parameters

| Name | Type | Description | Notes |
| ---- | ---- | ----------- | ----- |
| **consumer_id** | **String** | The consumer ID |  |
| **report_id** | **String** | ID of the report |  |
| **purpose** | **String** | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports. | [optional] |
| **on_behalf_of** | **String** | The name of the entity you are retrieving the report on behalf of | [optional] |

### Return type

[**Report**](Report.md)

### Authorization

[FinicityAppToken](../README.md#FinicityAppToken), [FinicityAppKey](../README.md#FinicityAppKey)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: application/json, text/plain


## get_report_by_customer

> <Report> get_report_by_customer(customer_id, report_id, opts)

Get Report by Customer and ID

Get a report that has been generated by a previous call to one of the Generate Report services.  The report's `status` field contains \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.  Report data can either be retrieved as a JSON document or a PDF file.  To specify the format required, set the _Accept request header_ to either **application/json** or **application/pdf**. If neither is set, the report format will be returned as a JSON document.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

### Examples

```ruby
require 'time'
require 'open_banking'
# setup authorization
OpenBanking.configure do |config|
  # Configure API key authorization: FinicityAppToken
  config.api_key['FinicityAppToken'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppToken'] = 'Bearer'

  # Configure API key authorization: FinicityAppKey
  config.api_key['FinicityAppKey'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppKey'] = 'Bearer'
end

api_instance = OpenBanking::ReportsApi.new
customer_id = '1005061234' # String | A customer ID
report_id = 'u4hstnnak45g' # String | ID of the report
opts = {
  on_behalf_of: 'Some entity', # String | The name of the entity you are retrieving the report on behalf of
  purpose: '3F' # String | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports.
}

begin
  # Get Report by Customer and ID
  result = api_instance.get_report_by_customer(customer_id, report_id, opts)
  p result
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_report_by_customer: #{e}"
end
```

#### Using the get_report_by_customer_with_http_info variant

This returns an Array which contains the response data, status code and headers.

> <Array(<Report>, Integer, Hash)> get_report_by_customer_with_http_info(customer_id, report_id, opts)

```ruby
begin
  # Get Report by Customer and ID
  data, status_code, headers = api_instance.get_report_by_customer_with_http_info(customer_id, report_id, opts)
  p status_code # => 2xx
  p headers # => { ... }
  p data # => <Report>
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_report_by_customer_with_http_info: #{e}"
end
```

### Parameters

| Name | Type | Description | Notes |
| ---- | ---- | ----------- | ----- |
| **customer_id** | **String** | A customer ID |  |
| **report_id** | **String** | ID of the report |  |
| **on_behalf_of** | **String** | The name of the entity you are retrieving the report on behalf of | [optional] |
| **purpose** | **String** | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports. | [optional] |

### Return type

[**Report**](Report.md)

### Authorization

[FinicityAppToken](../README.md#FinicityAppToken), [FinicityAppKey](../README.md#FinicityAppKey)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: application/json, text/plain


## get_reports_by_consumer_id

> <ReportSummaries> get_reports_by_consumer_id(consumer_id, opts)

Get Reports by Consumer ID

Get all reports that have been generated by previous calls to Generate Report services for the given consumer.  The `status` fields in the returned list contain \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

### Examples

```ruby
require 'time'
require 'open_banking'
# setup authorization
OpenBanking.configure do |config|
  # Configure API key authorization: FinicityAppToken
  config.api_key['FinicityAppToken'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppToken'] = 'Bearer'

  # Configure API key authorization: FinicityAppKey
  config.api_key['FinicityAppKey'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppKey'] = 'Bearer'
end

api_instance = OpenBanking::ReportsApi.new
consumer_id = '0bf46322c167b562e6cbed9d40e19a4c' # String | The consumer ID
opts = {
  purpose: '3F' # String | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports.
}

begin
  # Get Reports by Consumer ID
  result = api_instance.get_reports_by_consumer_id(consumer_id, opts)
  p result
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_reports_by_consumer_id: #{e}"
end
```

#### Using the get_reports_by_consumer_id_with_http_info variant

This returns an Array which contains the response data, status code and headers.

> <Array(<ReportSummaries>, Integer, Hash)> get_reports_by_consumer_id_with_http_info(consumer_id, opts)

```ruby
begin
  # Get Reports by Consumer ID
  data, status_code, headers = api_instance.get_reports_by_consumer_id_with_http_info(consumer_id, opts)
  p status_code # => 2xx
  p headers # => { ... }
  p data # => <ReportSummaries>
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_reports_by_consumer_id_with_http_info: #{e}"
end
```

### Parameters

| Name | Type | Description | Notes |
| ---- | ---- | ----------- | ----- |
| **consumer_id** | **String** | The consumer ID |  |
| **purpose** | **String** | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports. | [optional] |

### Return type

[**ReportSummaries**](ReportSummaries.md)

### Authorization

[FinicityAppToken](../README.md#FinicityAppToken), [FinicityAppKey](../README.md#FinicityAppKey)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: application/json, text/plain


## get_reports_by_customer_id

> <ReportSummaries> get_reports_by_customer_id(customer_id, opts)

Get Reports by Customer ID

Get all reports that have been generated by previous calls to Generate Report services for the given customer.  The `status` fields in the returned list contain \"inProgress\", \"failure\", or \"success\". If the status shows \"inProgress\", the client app should wait 20 seconds and then call this API again.  _Supported regions_: ![ðŸ‡ºðŸ‡¸](https://flagcdn.com/20x15/us.png)

### Examples

```ruby
require 'time'
require 'open_banking'
# setup authorization
OpenBanking.configure do |config|
  # Configure API key authorization: FinicityAppToken
  config.api_key['FinicityAppToken'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppToken'] = 'Bearer'

  # Configure API key authorization: FinicityAppKey
  config.api_key['FinicityAppKey'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['FinicityAppKey'] = 'Bearer'
end

api_instance = OpenBanking::ReportsApi.new
customer_id = '1005061234' # String | A customer ID
opts = {
  purpose: '3F' # String | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports.
}

begin
  # Get Reports by Customer ID
  result = api_instance.get_reports_by_customer_id(customer_id, opts)
  p result
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_reports_by_customer_id: #{e}"
end
```

#### Using the get_reports_by_customer_id_with_http_info variant

This returns an Array which contains the response data, status code and headers.

> <Array(<ReportSummaries>, Integer, Hash)> get_reports_by_customer_id_with_http_info(customer_id, opts)

```ruby
begin
  # Get Reports by Customer ID
  data, status_code, headers = api_instance.get_reports_by_customer_id_with_http_info(customer_id, opts)
  p status_code # => 2xx
  p headers # => { ... }
  p data # => <ReportSummaries>
rescue OpenBanking::ApiError => e
  puts "Error when calling ReportsApi->get_reports_by_customer_id_with_http_info: #{e}"
end
```

### Parameters

| Name | Type | Description | Notes |
| ---- | ---- | ----------- | ----- |
| **customer_id** | **String** | A customer ID |  |
| **purpose** | **String** | 2-digit code from [Permissible Purpose Codes](https://developer.mastercard.com/open-banking-us/documentation/products/lend/report-handling/permissible-purpose-codes/), specifying the reason for retrieving this report. Required for retrieving some reports. | [optional] |

### Return type

[**ReportSummaries**](ReportSummaries.md)

### Authorization

[FinicityAppToken](../README.md#FinicityAppToken), [FinicityAppKey](../README.md#FinicityAppKey)

### HTTP request headers

- **Content-Type**: Not defined
- **Accept**: application/json, text/plain

